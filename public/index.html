<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#000000" />
  <meta name="description" content="short video app" />
  <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
  <link rel="apple-touch-icon" href="%PUBLIC_URL%/images/tiktok-logo-small.8fb50fcb18e1f9bc7082.webp" />
  <link rel="manifest" href="%PUBLIC_URL%/manifest.webmanifest" />
  <title>TikTok</title>
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('%PUBLIC_URL%/service-worker.js')
        .then((registration) => {
          console.log('Service Worker registered with scope:', registration.scope);

          // Wait for the service worker to be ready
          return navigator.serviceWorker.ready;
        })
        .then((registration) => {
          registration.addEventListener('message', (event) => {
            if (event.data.action === 'hideSplashScreen') {
              const splashScreen = document.getElementById('splash-screen');
              if (splashScreen) {
                splashScreen.style.display = 'none';
              }
            }
          });
        })
        .catch((error) => {
          console.error('Service Worker registration failed:', error);
        });

      // Hide splash screen after 3000 ms (adjust timing as needed)
      setTimeout(() => {
        const splashScreen = document.getElementById('splash-screen');
        if (splashScreen) {
          splashScreen.style.display = 'none';
        }
      }, 3000);
    }
  </script>
</head>

<body>
  <noscript>You need to enable JavaScript to run this app.</noscript>
  <div id="splash-screen">
    <img src="%PUBLIC_URL%/logo192.png" alt="TikTok Logo" />
  </div>
  <div id="root"></div>
</body>

</html>