<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#000000" />
  <meta name="description" content="short video app" />
  <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
  <link rel="manifest" href="%PUBLIC_URL%/manifest.webmanifest" />
  <title>TikTok</title>
</head>

<body>
  <noscript>You need to enable JavaScript to run this app.</noscript>
  <div id="splash-screen">
    <img src="%PUBLIC_URL%/logo192.png" alt="TikTok Logo" />
  </div>
  <div id="root"></div>
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('%PUBLIC_URL%/service-worker.js')
        .then((registration) => {
          console.log('Service Worker registered with scope:', registration.scope);
        })
        .catch((error) => {
          console.error('Service Worker registration failed:', error);
        });

      // Hide splash screen after 3000 ms (adjust timing as needed)
      setTimeout(() => {
        const splashScreen = document.getElementById('splash-screen');
        if (splashScreen) {
          splashScreen.style.display = 'none';
        }
      }, 3000);
    }

    // This event listener in the service worker will hide the splash screen
    navigator.serviceWorker.addEventListener('message', (event) => {
      if (event.data.action === 'hideSplashScreen') {
        const splashScreen = document.getElementById('splash-screen');
        if (splashScreen) {
          splashScreen.style.display = 'none';
        }
      }
    });
  </script>
</body>

</html>